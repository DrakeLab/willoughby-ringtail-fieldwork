---
title: "Camera-Media-Status"
author: "Anna Willoughby"
date: "9/9/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyr)
library(dplyr)
library(here)
```

# Status of Canyon Critters Camera Media

Report date: `r Sys.Date()`

## Camera Method Summary

<!-- Should this be a separate paragraph/section from the one about maintenance? Or is this just a placeholder heading? -->

```{r data, include=FALSE, echo=FALSE}
days <- read.csv(here(file = "data/camera-data/camera_days.csv"))
events <- read.csv(here(file = "data/camera-data/check_event.csv"))
detection <- read.csv(here(file = "data/camera-data/detection_info.csv"))
sites <- read.csv(here(file = "data/camera-data/site_info.csv"))

deploy_date <- days %>%
  filter(days_since_deployment == 0) %>%
  select(site_id, date, trap_day) %>%
  arrange(date)
start_date <- deploy_date %>%
  filter(date == min(deploy_date$date)) %>% select(date)

site_list <- sites %>% 
  filter(SiteNumber != "PilotSite") %>%
  filter (SiteNumber != "DuplicateSite") %>%
  select(SiteID, SiteType)
count_natural <- site_list %>%
  filter(SiteType == "outdoor") %>%
  nrow()
prop_natural <- count_natural %>%
  nrow()/nrow(site_list)*100
count_building <- site_list %>%
  filter(SiteType == "building") %>%
  nrow()
prop_building <- count_building %>%
  nrow()/nrow(site_list)*100

days_count <- days %>%
  filter(status != "Not Yet Deployed")

```

## Study Design and Maintenance

From `r start_date`, cameras were deployed at `r nrow(site_list)` sites for a total of `r nrow(days_count)` camera days. `r count_natural` (`r prop_natural`%) cameras are located at natural sites and `r count_building` (`r prop_building`%) are located at building sites. The cameras were functional for NUMBER days, PERCENT of the study period. Camera function was interrupted when a camera had a full SD card (NUMBER OF DAYS [PERCENT]), a dead battery (NUMBER OF DAYS [PERCENT]), or the camera being misplaced (NUMBER OF DAYS [PERCENT]).

Camera data is collected periodically in check events. Across all sites, camera data has been collected NUMBERCHECKEVENTS times. Each check event covers an average of NUMBER camera days, with an average of NUMBER (PERCENT) functional camera days.

Across all sites, cameras captured NUMBER trigger events, of which NUMBER (PERCENT) were animal detections. Cameras deployed at natural sites recorded two photographs per trigger event. In total, natural sites captured NUMBER trigger events, covering DURATION. Cameras deployed at building sites recorded videos in 20, 30, or 60-second durations. In total, building sites captured NUMBER trigger events, covering DURATION.

```{r maintenancegraphs, include=TRUE}
# graphs
```

## Data Storage and Status

Camera data is stored by check event. Of the NUMBERCHECKEVENT check events, NUMBER (PERCENT) are stored in two physical locations. NUMBER (PERCENT) are uploaded to the Canyon Critters Zooniverse project.
